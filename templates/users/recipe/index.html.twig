{% extends 'base.html.twig' %}

{% block title %}Toutes les Recettes - MonSite Recettes{% endblock %}

{% block body %}
<div class="container flash-messages">
    {% include 'partials/flash.html.twig' %}
</div>
<section class="page-content">
  <h1 class="section-title">🌿 Toutes les Recettes 🌿</h1>

  <div class="recipes-grid" id="recipe-list"
      data-current-page="{{ recipes.getCurrentPageNumber() }}"
      data-max-page="{{ recipes.getPageCount() }}"
      data-total="{{ recipes.getTotalItemCount() }}"
      data-url="{{ path('user.recipe.list') }}">
      
      {% include 'users/category/recipes_list.html.twig' with {'recipes': recipes} %}
  </div>
  
  {% set totalRecipes = recipes.getTotalItemCount() %}
  <div class="text-center mt-4">
       {% if totalRecipes > 6 %}
        <button class="btn-load-more" id="load-more-recipes">
            <span class="btn-text">🍃 Charger plus de recettes</span>
        </button>
    {% endif %}
  </div>

  <div class="text-center my-3" id="loading" style="display:none;">
    <span class="spinner-border" role="status"></span>
  </div>
</section>
{% endblock %}
