{% for recipe in recipes %}
    {% set imagePath = vich_uploader_asset(recipe, 'thumbnailFile') %}
    <div class="recipe-card">
        {% if imagePath %}
            <img src="{{ imagePath | imagine_filter('thumb_700x_auto') }}" alt="{{ recipe.title }}">
        {% else %}
            <img src="{{ asset('images/default-recipe.webp') | imagine_filter('thumb_700x_auto') }}" alt="Recette par dÃ©faut">
        {% endif %}

        <div class="recipe-card-body">
            <h2 class="recipe-title">{{ recipe.title }}</h2>

            <div class="recipe-meta">
                ğŸ—‚ï¸ {{ recipe.category.name|title|default('Sans catÃ©gorie') }}<br>
                â±ï¸ 
                {% if recipe.duration is not empty %}
                    {% if recipe.duration < 60 %}
                        {{ recipe.duration }} min
                    {% else %}
                        {{ (recipe.duration // 60) }} h
                        {% if recipe.duration % 60 != 0 %}
                            {{ (recipe.duration % 60) }} min
                        {% endif %}
                    {% endif %}
                {% else %}
                    DurÃ©e non prÃ©cisÃ©e
                {% endif %}
                <br>
                ğŸ“… {{ recipe.createdAt|date('d/m/Y') }}<br>
                ğŸ‘¨â€ğŸ³ AjoutÃ©e par {{ recipe.author.username|title }}
            </div>

            <a href="{{ path('user.recipe.recipe_show', {'slug': recipe.slug}) }}" class="btn-see">
                Voir la recette
            </a>
        </div>
    </div>
{% else %}
    <p class="text-center text-muted">Aucune recette trouvÃ©e dans cette catÃ©gorie.</p>
{% endfor %}
